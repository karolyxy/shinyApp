"0","# 1. Convert all the column names to lower cases and rename the columns that have empty space."
"0","names(raw.df) <- tolower(names(raw.df))"
"0","raw.df <- rename(raw.df, cuisine = `cuisine description`)"
"0","raw.df <- rename(raw.df, inspection.date = `inspection date`)"
"0","# 2. Convert the inspection.date column from character to date format."
"0","raw.df <- raw.df %>% mutate(inspection.date = as.Date(inspection.date, ""%m/%d/%Y""))"
"0","# 3. Extract the month from the inspection.date column."
"0","raw.df <- raw.df %>% mutate(month=as.numeric(format(inspection.date, ""%m"")))"
"0","# 4. Impute the missing values for the 'grade' column"
"0","raw.df <- raw.df %>% mutate(grade = ifelse(0 < score & score < 14 , 'A',"
"0","                                      ifelse(score < 28, 'B', 'C')))"
"0","# 5. Rename the description from the action column to something short so it won't blow up your graph."
"0","raw.df <- mutate(raw.df, action = gsub(pattern = ""Violations were cited in the following area(s)."", replacement = ""violations"", x = action, ignore.case = F, fixed = T)) %>%"
"0","  mutate(action = gsub(pattern = ""No violations were recorded at the time of this inspection."", replacement = ""no violations"", x = action, ignore.case = F)) %>%"
"0","  mutate(action = gsub(pattern = ""Establishment re-opened by DOHMH"", replacement = ""reopened"", x = action, ignore.case = F)) %>%"
"0","  mutate(action = gsub(pattern = ""Establishment Closed by DOHMH.  Violations were cited in the following area(s) and those requiring immediate action were addressed."", replacement = ""closed"", x = action, ignore.case = F, fixed = T)) %>%"
"0","  mutate(action = gsub(pattern = ""Establishment re-closed by DOHMH"", replacement = ""reclosed"", x = action, ignore.case = F))"
"0","# 6. We want to filter out missing values to make our lives easier for further analysis."
"0","raw.df <- filter(raw.df,"
"0","            boro != 'Missing' & #Eliminate remaining rows with boro == 'Missing'; confirmed that none are in NYC"
"0","            inspection.date > '1900-01-01' & #Eliminate rows where the restaurant hasn't been inspected yet"
"0","            !is.na(score) & #Eliminate rows without a score"
"0","            score >= 0 #Eliminate rows with a negative score"
"0",")"
"0","# 7. Select the following columns from raw.df: camis, boro, cuisine, inspection.date, action, score, grade, month"
"0","raw.df <- select(raw.df, camis, boro, cuisine, inspection.date, action, score, grade, month)"
"0","# 8. Unique inspections"
"0","inspections = unique(raw.df)"
