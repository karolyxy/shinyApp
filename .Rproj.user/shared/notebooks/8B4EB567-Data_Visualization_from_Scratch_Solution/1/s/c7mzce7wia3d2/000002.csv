"0","# Facect barplots of insepction closure ratios by borough with top 20 cuisine types."
"0","#Ratio of inspection closures by top 20 cuisine and boro"
"0","inspClosByCuisineBoro = inspectionsFiltered %>%"
"0","  group_by(cuisine, boro) %>%"
"0","  summarise(closures = sum(action == 'closed' | action == 'reclosed'),"
"0","            inspections = n(),"
"0","            ratio = closures / inspections)"
"0","#Faceted bar plot: Inspection closure ratio by top 20 cuisine and borough"
"0","ggplot(data=inspClosByCuisineBoro, aes(x=cuisine, y=ratio)) + "
"0","  geom_bar(stat='identity', aes(fill=boro)) + "
"0","  facet_grid(. ~ boro) +"
"0","  labs(title='Inspection closure ratio by top 20 cuisine and borough', x='Top 20 cuisine', y='Inspection closure ratio') +"
"0","  scale_y_continuous(labels = scales::percent) +"
"0","  scale_fill_brewer(palette = 'Set1') +"
"0","  theme_bw() +"
"0","  theme(legend.key=element_blank(), legend.position=""bottom"") +"
"0","  coord_flip()"
